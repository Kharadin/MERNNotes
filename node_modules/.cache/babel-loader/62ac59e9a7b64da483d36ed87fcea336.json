{"ast":null,"code":"import _asyncToGenerator from\"/Users/dimetrius/Documents/ReactCrashCourse/mynotesMongo_d/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/dimetrius/Documents/ReactCrashCourse/mynotesMongo_d/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/dimetrius/Documents/ReactCrashCourse/mynotesMongo_d/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';// import notes from '../assets/data'\nimport ListItem from'../components/ListItem';import AddButton from'../components/AddButton';import Axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var checkNLPTimes=0;var NotesListPage=function NotesListPage(){checkNLPTimes++;console.log('checkNLPTimes:',checkNLPTimes);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];//console.log(notes)\nuseEffect(function(){console.log('i fire once1');getNotes();setTimeout(function(){getNotes();},500);console.log('i fire once2');},[]);var getNotes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get('https://notesmern220527.herokuapp.com/getNotes');case 2:response=_context.sent;_context.next=5;return response.data;case 5:data=_context.sent;setNotes(data);console.log('data:',data);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getNotes(){return _ref.apply(this,arguments);};}();//old stuff with local fetch.\n// let getNotes = async () => {\n//   let response = await fetch('http://localhost:8000/notes')\n//   let data = await response.json()\n//   setNotes(data);\n//   console.log('data:', data)\n// }\n// console.log('check after getnotes')\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"notes\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notes-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"notes-title\",children:\"\\u2636 \\u0417\\u0430\\u043C\\u0435\\u0442\\u043A\\u0438 / Notes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"notes-counter\",children:notes.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"notes-list\",children:notes.map(function(note,index){return/*#__PURE__*/_jsx(ListItem,{note:note},index);})}),/*#__PURE__*/_jsx(AddButton,{})]});};export default NotesListPage;","map":{"version":3,"names":["React","useEffect","useState","ListItem","AddButton","Axios","checkNLPTimes","NotesListPage","console","log","notes","setNotes","getNotes","setTimeout","get","response","data","length","map","note","index"],"sources":["/Users/dimetrius/Documents/ReactCrashCourse/mynotesMongo_d/client/src/pages/NotesListPage.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\n// import notes from '../assets/data'\nimport ListItem from '../components/ListItem'\nimport AddButton  from '../components/AddButton'\nimport Axios from \"axios\"\n\n\n\n var checkNLPTimes = 0\n\nconst NotesListPage = () => {\n  \n   checkNLPTimes++\n\n  console.log('checkNLPTimes:',  checkNLPTimes )\n\n\n  let [notes, setNotes] = useState ([])\n  //console.log(notes)\n \n  useEffect (()=> {\n    console.log('i fire once1')\n    getNotes()\n    setTimeout (() => {\n      getNotes()\n    }, 500\n    )\n    \n    console.log('i fire once2')\n  }, [])\n\nlet getNotes = async () => {\n    let response = await Axios.get('https://notesmern220527.herokuapp.com/getNotes')\n    let data = await response.data\n    setNotes(data);\n    console.log('data:', data)\n}\n  //old stuff with local fetch.\n  // let getNotes = async () => {\n  //   let response = await fetch('http://localhost:8000/notes')\n  //   let data = await response.json()\n  //   setNotes(data);\n  //   console.log('data:', data)\n  // }\n  // console.log('check after getnotes')\n\n\n  return (\n    <div className='notes'>\n\n          <div className='notes-header'>\n            <h2 className=\"notes-title\">&#9782; Заметки / Notes</h2>\n            <p className='notes-counter'>{notes.length}</p>\n          </div>\n\n          <div className=\"notes-list\" >\n                  {notes.map((note, index) => (\n                        \n                      <ListItem key={index} note={note} />\n                  ))}\n          </div>\n          <AddButton />\n    </div>\n  )\n}\n\nexport default NotesListPage\n"],"mappings":"wcAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA;AACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,SAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAIC,GAAIC,CAAAA,aAAa,CAAG,CAApB,CAED,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAEzBD,aAAa,GAEdE,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA+BH,aAA/B,EAGA,cAAwBJ,QAAQ,CAAE,EAAF,CAAhC,wCAAKQ,KAAL,eAAYC,QAAZ,eACA;AAEAV,SAAS,CAAE,UAAK,CACdO,OAAO,CAACC,GAAR,CAAY,cAAZ,EACAG,QAAQ,GACRC,UAAU,CAAE,UAAM,CAChBD,QAAQ,GACT,CAFS,CAEP,GAFO,CAAV,CAKAJ,OAAO,CAACC,GAAR,CAAY,cAAZ,EACD,CATQ,CASN,EATM,CAAT,CAWF,GAAIG,CAAAA,QAAQ,0FAAG,2KACUP,CAAAA,KAAK,CAACS,GAAN,CAAU,gDAAV,CADV,QACPC,QADO,qCAEMA,CAAAA,QAAQ,CAACC,IAFf,QAEPA,IAFO,eAGXL,QAAQ,CAACK,IAAD,CAAR,CACAR,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBO,IAArB,EAJW,sDAAH,kBAARJ,CAAAA,QAAQ,0CAAZ,CAME;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,mBACE,aAAK,SAAS,CAAC,OAAf,wBAEM,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,aAAd,uEADF,cAEE,UAAG,SAAS,CAAC,eAAb,UAA8BF,KAAK,CAACO,MAApC,EAFF,GAFN,cAOM,YAAK,SAAS,CAAC,YAAf,UACSP,KAAK,CAACQ,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,qBAEP,KAAC,QAAD,EAAsB,IAAI,CAAED,IAA5B,EAAeC,KAAf,CAFO,EAAV,CADT,EAPN,cAaM,KAAC,SAAD,IAbN,GADF,CAiBD,CAtDD,CAwDA,cAAeb,CAAAA,aAAf"},"metadata":{},"sourceType":"module"}